(function(){"use strict";var t={582:function(t,e,a){var s=a(751),n=a(992),o=a(641);function r(t,e,a,s,n,r){const i=(0,o.g2)("router-view"),c=(0,o.g2)("Layout");return(0,o.uX)(),(0,o.Wv)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(i)])),_:1})}var i=a(33),c=a.p+"img/logo.62769636.png";const l=t=>((0,o.Qi)("data-v-7d49a9b1"),t=t(),(0,o.jt)(),t),u={class:"layout__wrapper"},d={class:"layout"},p=l((()=>(0,o.Lk)("img",{class:"layout__logo-icon",src:c,alt:""},null,-1))),h={class:"layout__links"},g={class:"layout__page"};function v(t,e,a,s,n,r){const c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("div",d,[p,(0,o.Lk)("nav",h,[(0,o.bF)(c,{class:"layout__link",to:"/"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t.$t("homepage")),1)])),_:1}),(0,o.bF)(c,{class:"layout__link",to:"/favorites"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t.$t("favorites")),1)])),_:1}),(0,o.Lk)("button",{class:"layout__link",onClick:e[0]||(e[0]=t=>r.changeLanguage("en"))}," English "),(0,o.Lk)("button",{class:"layout__link",onClick:e[1]||(e[1]=t=>r.changeLanguage("uk"))}," Українська ")]),(0,o.Lk)("div",g,[(0,o.Lk)("main",null,[(0,o.RG)(t.$slots,"default",{},void 0,!0)])])])])}var m={methods:{changeLanguage(t){this.$i18n.locale=t}}},y=a(262);const f=(0,y.A)(m,[["render",v],["__scopeId","data-v-7d49a9b1"]]);var C=f,_={components:{Layout:C}};const k=(0,y.A)(_,[["render",r]]);var w=k,b=a(220),A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHuSURBVEiJpZZLLwRBFIU/z8Tagq3xJywYE0tjjxFEbD0iWGHlF3hk/AqPjYiEYCXsRLAZr70VExKPtEWdzlRXV/eMOMlNp8+991TNrdt1B6qjF3gGAseegJ4a8qviXIIPwL3sQdz5f8UbgXfgxeN7ka8xTaDeEVsEikAeaAGm9bzw5F7KN6VnXrkLSYuuEq9zAHwC3Z74rHy+nFU3OAN8AGVgEtgDSsChhJLQq5gSsKvcsrQyduCOVl5KEasVy9LaCYmciEdMLX1oBkaAdVlBnA8t0gqkTVEvcwkJncAd8Trf4pTBwpxiNgHG9FLGdIK781D8BBiWnYi7AZqcnAFpBcBoSC4CP8Ab0GYFj1jidkvXA6fyDVt8u8R/pBnBlhLGLW7DIxKiIN+6xU2IK9o7cRF4uL+iziXCEr0SLVG4y7QSDVl8O6bMkRKNUznkfmfhZky3BBIsyM7EXRM/5DyVQx6D6m2awXSL26bXQEdCTqRNc1T/0JowB70mG/TsPETsQwPYFrGckPQXrEhr2yZ9l909cGTvwoM+4Fixe6RcdpB+XftGYw74SsiJXddghsQC5mDCgTOrhH1P/IF8M1QGziYwDzSk/OrYov8amalO4Bu4ArqoDHowX2orZuh/17rbJGQxf1HcOj/iH6UR/AKTU7YEPGWhFwAAAABJRU5ErkJggg==";const E=t=>((0,o.Qi)("data-v-c396a1f2"),t=t(),(0,o.jt)(),t),L={class:"home"},D={class:"home__header"},F=E((()=>(0,o.Lk)("img",{src:A,alt:""},null,-1)));function I(t,e,a,s,n,r){const i=(0,o.g2)("CityInput"),c=(0,o.g2)("router-link"),l=(0,o.g2)("WeatherList"),u=(0,o.g2)("WeatherSchedule");return(0,o.uX)(),(0,o.CE)("div",L,[(0,o.Lk)("div",D,[(0,o.bF)(i),(0,o.bF)(c,{to:"/settings"},{default:(0,o.k6)((()=>[F])),_:1})]),(0,o.bF)(l),(0,o.bF)(u)])}const N=t=>((0,o.Qi)("data-v-5aaf1384"),t=t(),(0,o.jt)(),t),S={class:"weather-list"},X={class:"weather-list__header"},T=N((()=>(0,o.Lk)("div",{class:"weather-list__days-btn"},null,-1))),j=N((()=>(0,o.Lk)("div",{class:"weather-list__weeks-btn"},null,-1))),R={class:"weather-list__wrapper"};function W(t,e,a,s,n,r){const i=(0,o.g2)("WeatherCard");return(0,o.uX)(),(0,o.CE)("div",S,[(0,o.Lk)("div",X,[T,j,(0,o.Lk)("div",R,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.cards,((t,e)=>((0,o.uX)(),(0,o.Wv)(i,{card:t,key:e},null,8,["card"])))),128))])])])}const B=["src"],O={class:"weather-card__desc"},$={key:0,class:"weather-card__temp"},V={key:1,class:"weather-card__loader"};function x(t,e,a,s,n,r){const c=(0,o.g2)("DeletePupup");return s.cityResponse?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,i.C4)(s.weatherCardClasses)},[(0,o.Lk)("img",{onClick:e[0]||(e[0]=(...t)=>s.sendData&&s.sendData(...t)),class:"weather-card__icon",src:s.weatherIconSrc,alt:"Weather Icon"},null,8,B),(0,o.Lk)("div",{onClick:e[1]||(e[1]=(...t)=>s.sendData&&s.sendData(...t)),class:"weather-card__name"},(0,i.v_)(s.cityResponse?.name),1),(0,o.Lk)("div",O,(0,i.v_)(s.cityResponse.weather[0]?.description),1),s.cityResponse.main?.temp?((0,o.uX)(),(0,o.CE)("p",$,[(0,o.eW)((0,i.v_)(t.$t("Temperature"))+" "+(0,i.v_)(s.cityResponse.main?.temp)+" °C ",1),t.$props.favorites?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:0,class:"weather-card__fav-btn",onClick:e[2]||(e[2]=e=>s.addToFavorites(t.city)),type:"button"},(0,i.v_)(t.$t("Add to favourites")),1))])):(0,o.Q3)("",!0),t.$props.favorites?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:1,class:"weather-card__add-btn",onClick:e[3]||(e[3]=(...t)=>s.addClone&&s.addClone(...t)),type:"button"}," + ")),t.$props.favorites?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:2,class:"weather-card__delete-btn",onClick:e[4]||(e[4]=(...t)=>s.showPopup&&s.showPopup(...t)),type:"button"}," X ")),t.$props.favorites?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(c,{key:3,isVisible:s.isPopupVisible,onConfirm:s.removeCity,onCancel:s.handleCancelDelete},null,8,["isVisible","onConfirm","onCancel"]))],2)):((0,o.uX)(),(0,o.CE)("div",V,[(0,o.Lk)("p",null,(0,i.v_)(t.$t("Loading data...")),1)]))}var M=a(953),P=a(278);const Q={class:"popup"};var H={__name:"DeletePupup",props:{isVisible:{type:Boolean,required:!0}},emits:["confirm","cancel"],setup(t,{emit:e}){const a=e,s=()=>{a("confirm")},n=()=>{a("cancel")};return(e,a)=>t.isVisible?((0,o.uX)(),(0,o.CE)("div",{key:0,onClick:n,class:"popup__backdrop"},[(0,o.Lk)("div",Q,[(0,o.Lk)("p",null,(0,i.v_)(e.$t("Are you sure you want to delete this item?")),1),(0,o.Lk)("button",{class:"popup__btn",onClick:s},(0,i.v_)(e.$t("Confirm")),1),(0,o.Lk)("button",{class:"popup__btn",onClick:n},(0,i.v_)(e.$t("Cancel")),1)])])):(0,o.Q3)("",!0)}};const K=(0,y.A)(H,[["__scopeId","data-v-bcaee18a"]]);var Y=K,J={props:{card:Object,favorites:Boolean},components:{DeletePupup:Y},setup(t){const e=(0,P.Pj)(),a=(0,M.KR)(null),s=(0,M.KR)(!1),n=(0,M.KR)(!1),r=(0,M.KR)(!0),i=(0,o.EW)((()=>e.getters.isNight)),c=(0,o.EW)((()=>e.getters.isMonth)),l=(0,o.EW)((()=>r.value?"weather-card weather-card__active":"weather-card")),u=(0,o.EW)((()=>{const t=a.value?.weather[0].icon;return`https://openweathermap.org/img/wn/${i.value?t:t.replace(/n$/,"d")}@2x.png`})),d=t=>{const e=JSON.parse(localStorage.getItem("Favorites"))||[];r.value=e.includes(t)},p=async()=>{const e="string"===typeof t.card?t.card:t.card.name,n=`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=597035dd4f818cff0905e68e48f68b68&units=metric`;try{const t=await fetch(n);t.ok?(a.value=await t.json(),d(a.value.name)):console.error("Error fetching weather data:",t.status)}catch(o){console.error("Error fetching weather data:",o)}finally{s.value=!1}},h=()=>{n.value=!0},g=()=>{let e=JSON.parse(localStorage.getItem("Favorites"))||[];const a="string"===typeof t.card?t.card:t.card.name;e=e.filter((t=>t!==a)),localStorage.setItem("Favorites",JSON.stringify(e))},v=()=>{const a="string"===typeof t.card?t.card:t.card.name;e.dispatch("deselectCity",a),n.value=!1},m=()=>{n.value=!1},y=()=>{let e=JSON.parse(localStorage.getItem("Favorites"))||[];const s="string"===typeof t.card?t.card:t.card.name;e.includes(s)?g():e.length<5?(e.push(s),localStorage.setItem("Favorites",JSON.stringify(e))):alert("Remove a city to add a new one, maximum 5"),d(a.value.name)},f=()=>{e.dispatch("selectCity",t.card)},C=async()=>{try{const{lat:t,lon:s}=a.value?.coord||{},n=c.value?`https://api.openweathermap.org/data/2.5/forecast?lat=${t}&lon=${s}&appid=597035dd4f818cff0905e68e48f68b68`:`https://api.openweathermap.org/data/3.0/onecall?lat=${t}&lon=${s}&exclude=current,minutely,daily,alerts&appid=597035dd4f818cff0905e68e48f68b68`,o=await fetch(n),r=await o.json(),i=r.list||r.hourly;e.dispatch("updateHourlyData",i)}catch(t){console.error("Error fetching additional data:",t)}},_=()=>{t.card&&p()};return(0,o.wB)((()=>t.card),_,{immediate:!0}),{cityResponse:a,addClone:f,removeCity:v,handleCancelDelete:m,showPopup:h,isPopupVisible:n,addToFavorites:y,sendData:C,isNight:i,isElementInLocalStorage:r,weatherCardClasses:l,weatherIconSrc:u}}};const G=(0,y.A)(J,[["render",x],["__scopeId","data-v-feb0b4ea"]]);var U=G,q={components:{WeatherCard:U},setup(){const t=(0,P.Pj)(),e=(0,o.EW)((()=>t.getters["city/city"])),a=(0,M.KR)(!1),s=async()=>{e.value&&await t.dispatch("selectCity",e.value)};(0,o.wB)(e,(async t=>{t&&(a.value=!0,await s())}));const n=(0,o.EW)((()=>t.getters.getSelectedCities));return(0,o.sV)((()=>{t.dispatch("city/fetchCity"),s()})),{cards:n,city:e}}};const z=(0,y.A)(q,[["render",W],["__scopeId","data-v-5aaf1384"]]);var Z=z;const tt={ref:"chartCanvas"};function et(t,e,a,s,n,r){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("canvas",tt,null,512)])}var at=a(22),st=a(90);at.t1.register(...at.$L);var nt={setup(){const t=(0,P.Pj)(),e=(0,o.EW)((()=>t.getters.hourlyData)),a=(0,M.KR)(null);let s=null;const n=t=>{const e=t.map((t=>(0,st.GP)(new Date(1e3*t.dt),"dd HH:mm"))),a=t.map((t=>{if("main"in t&&"temp"in t.main)return t.main.temp-273.15;if("temp"in t)return t.temp-273.15;throw new Error("Unexpected data format: no temperature field found.")}));return{labels:e,temperatures:a}},r=()=>{const{labels:t,temperatures:o}=n(e.value);s&&s.destroy(),s=new at.t1(a.value,{type:"line",data:{labels:t,datasets:[{label:"Temperature (°C)",data:o,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",borderWidth:1,fill:!0}]},options:{scales:{x:{title:{display:!0,text:"Time"}},y:{title:{display:!0,text:"Temperature (°C)"},beginAtZero:!1}}}})};return(0,o.sV)((()=>{r()})),(0,o.wB)(e,(t=>{r()})),(0,o.xo)((()=>{s&&s.destroy()})),{chartCanvas:a}}};const ot=(0,y.A)(nt,[["render",et]]);var rt=ot;const it={class:"city-input"},ct=["placeholder"],lt={key:0,class:"city-input__autocomplete-results",id:"autocomplete-results"},ut=["onClick"],dt="597035dd4f818cff0905e68e48f68b68";var pt={__name:"CityInput",setup(t){const e=(0,P.Pj)(),a=(0,M.KR)(""),n=(0,M.KR)([]),r=()=>{const t=a.value.trim();t.length>=3?c(t):n.value=[]},c=async t=>{const e=`http://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(t)}&limit=5&appid=${dt}`;try{const t=await fetch(e),a=await t.json();n.value=a}catch(a){console.error("Error fetching cities:",a)}},l=t=>{a.value=t.name,n.value=[],e.dispatch("selectCity",t)};return(t,e)=>((0,o.uX)(),(0,o.CE)("div",it,[(0,o.bo)((0,o.Lk)("input",{class:"city-input__input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),onInput:r,placeholder:t.$t("Enter the city name")},null,40,ct),[[s.Jo,a.value]]),0!==n.value.length?((0,o.uX)(),(0,o.CE)("div",lt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,onClick:e=>l(t)},(0,i.v_)(t.name)+", "+(0,i.v_)(t.state?t.state+", ":"")+(0,i.v_)(t.country),9,ut)))),128))])):(0,o.Q3)("",!0)]))}};const ht=(0,y.A)(pt,[["__scopeId","data-v-3c517aaa"]]);var gt=ht,vt={name:"HomeView",components:{CityInput:gt,WeatherList:Z,WeatherSchedule:rt},setup(){return{}}};const mt=(0,y.A)(vt,[["render",I],["__scopeId","data-v-c396a1f2"]]);var yt=mt;const ft={class:"favorites"};function Ct(t,e,a,s,n,r){const i=(0,o.g2)("FavoritesList"),c=(0,o.g2)("WeatherSchedule");return(0,o.uX)(),(0,o.CE)("div",ft,[(0,o.bF)(i),(0,o.bF)(c)])}const _t=t=>((0,o.Qi)("data-v-687fde8f"),t=t(),(0,o.jt)(),t),kt={class:"favorites-list"},wt={class:"favorites-list__header"},bt=_t((()=>(0,o.Lk)("div",{class:"favorites-list__days-btn"},null,-1))),At=_t((()=>(0,o.Lk)("div",{class:"favorites-list__weeks-btn"},null,-1))),Et={class:"favorites-list__wrapper"};function Lt(t,e,a,s,n,r){const i=(0,o.g2)("WeatherCard");return(0,o.uX)(),(0,o.CE)("div",kt,[(0,o.Lk)("div",wt,[bt,At,(0,o.Lk)("div",Et,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.favorites,(e=>((0,o.uX)(),(0,o.Wv)(i,{card:e,favorites:!0,key:t.index},null,8,["card"])))),128))])])])}var Dt={components:{WeatherCard:U},setup(){let t=localStorage.getItem("Favorites"),e=[];try{e=JSON.parse(t),Array.isArray(e)||(e=[])}catch(a){e=[]}return(0,o.sV)((()=>{})),{favorites:e}}};const Ft=(0,y.A)(Dt,[["render",Lt],["__scopeId","data-v-687fde8f"]]);var It=Ft,Nt={components:{FavoritesList:It,WeatherSchedule:rt},setup(){return{}}};const St=(0,y.A)(Nt,[["render",Ct]]);var Xt=St;const Tt={class:"settings"};function jt(t,e,a,s,n,r){return(0,o.uX)(),(0,o.CE)("div",Tt,[(0,o.Lk)("button",{class:"settings__btn",onClick:e[0]||(e[0]=(...t)=>s.toggleNight&&s.toggleNight(...t)),type:"button"},(0,i.v_)(t.$t("Day / Night")),1),(0,o.Lk)("button",{class:"settings__btn",onClick:e[1]||(e[1]=(...t)=>s.toggleMonth&&s.toggleMonth(...t)),type:"button"},(0,i.v_)(t.$t("Day / 5 Days")),1)])}var Rt={setup(){const t=(0,P.Pj)(),e=(0,o.EW)((()=>t.getters.isNight)),a=(0,o.EW)((()=>t.getters.isMonth)),s=()=>{t.dispatch("toggleNight")},n=()=>{t.dispatch("toggleMonth")};return{isNight:e,isMonth:a,toggleNight:s,toggleMonth:n}}};const Wt=(0,y.A)(Rt,[["render",jt],["__scopeId","data-v-7ae67193"]]);var Bt=Wt;const Ot=[{path:"/",name:"home",component:yt},{path:"/favorites",name:"favorites",component:Xt},{path:"/:catchAll(.*)",name:"start",component:yt},{path:"/settings",name:"settings",component:Bt}],$t=(0,b.aE)({history:(0,b.Bt)(),routes:Ot});var Vt=$t,xt={state(){return{hourlyData:[]}},mutations:{setHourlyData(t,e){t.hourlyData=e}},actions:{updateHourlyData({commit:t},e){t("setHourlyData",e)}},getters:{hourlyData:t=>t.hourlyData}},Mt={namespaced:!0,state:{city:null,isCityFetched:!1},mutations:{SET_CITY(t,e){t.city=e},SET_CITY_FETCHED(t,e){t.isCityFetched=e},RESET_CITY(t){t.city=null}},actions:{async fetchCity({state:t,commit:e}){if(t.isCityFetched)e("RESET_CITY");else try{const t=await fetch("https://api.ipify.org?format=json"),a=await t.json(),s=a.ip,n=await fetch(`https://ipapi.co/${s}/json/`),o=await n.json();e("SET_CITY",o.city),e("SET_CITY_FETCHED",!0)}catch(a){console.error("Error fetching city:",a)}}},getters:{city:t=>t.city}},Pt={state:{selectedCities:[]},mutations:{addCity(t,e){t.selectedCities.length<5?t.selectedCities.push(e):console.warn("Cannot add more than 5 cities")},removeCity(t,e){const a=t.selectedCities.findIndex((t=>"object"===typeof t&&t.name?t.name===e:"string"===typeof t&&t===e));-1!==a&&t.selectedCities.splice(a,1)}},actions:{selectCity({commit:t},e){t("addCity",e)},deselectCity({commit:t},e){t("removeCity",e)}},getters:{getSelectedCities:t=>t.selectedCities,getFavoriteCities:t=>t.favoriteCities}},Qt={state(){return{isNight:!1,isMonth:!1}},mutations:{toggleNight(t){t.isNight=!t.isNight},toggleMonth(t){t.isMonth=!t.isMonth},setNight(t,e){t.isNight=e},setMonth(t,e){t.isMonth=e}},actions:{toggleNight({commit:t}){t("toggleNight")},toggleMonth({commit:t}){t("toggleMonth")},setNight({commit:t},e){t("setNight",e)},setMonth({commit:t},e){t("setMonth",e)}},getters:{isNight:t=>t.isNight,isMonth:t=>t.isMonth}},Ht=(0,P.y$)({modules:{timeTemp:xt,city:Mt,cities:Pt,settings:Qt}}),Kt=JSON.parse('{"favorites":"Favorites","homepage":"Homepage","Add to favourites":"Add to favourites","Enter the city name":"Enter the city name","Are you sure you want to delete this item?":"Are you sure you want to delete this item?","Confirm":"Confirm","Cancel":"Cancel","Temperature":"Temperature","Loading data...":"Loading data...","Day / 5 Days":"Day / 5 Days","Day / Night":"Day / Night"}'),Yt=JSON.parse('{"favorites":"Обране","homepage":"Домашня сторiнка","Add to favourites":"Додати до вибраного","Enter the city name":"Введіть назву міста","Are you sure you want to delete this item?":"Ви впевнені, що хочете видалити цей елемент?","Confirm":"Підтвердити","Cancel":"Скасувати","Temperature":"Температура","Loading data...":"Завантаження даних...","Day / 5 Days":"День / 5 днів","Day / Night":"День / Ніч"}');const Jt=(0,n.hU)({locale:"en",fallbackLocale:"en",messages:{en:Kt,uk:Yt}}),Gt=(0,s.Ef)(w);Gt.use(Jt),Gt.use(Ht),Gt.use(Vt),Gt.mount("#app")}},e={};function a(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,s,n,o){if(!s){var r=1/0;for(u=0;u<t.length;u++){s=t[u][0],n=t[u][1],o=t[u][2];for(var i=!0,c=0;c<s.length;c++)(!1&o||r>=o)&&Object.keys(a.O).every((function(t){return a.O[t](s[c])}))?s.splice(c--,1):(i=!1,o<r&&(r=o));if(i){t.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[s,n,o]}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.p=""}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,o,r=s[0],i=s[1],c=s[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)var u=c(a)}for(e&&e(s);l<r.length;l++)o=r[l],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},s=self["webpackChunkweather"]=self["webpackChunkweather"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(582)}));s=a.O(s)})();
//# sourceMappingURL=app.736a5084.js.map